(defenum option
    (list
        (Some v)
        None
    )
    (:impl
        (quote
            (is-some
                (lambda
                    (self)
                        (match self
                            (Some _) true
                            None false)
                )
            is-none
                (lambda
                    (self)
                        (match self
                            (Some _) false
                            None true)
                )
            unwrap
                (lambda (self)
                    (match self
                        (Some x) x
                        None (panic "Tried to unwrap None"))
                )
            )
        )
    )
)
